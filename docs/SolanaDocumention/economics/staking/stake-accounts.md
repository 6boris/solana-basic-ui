# 质押账户

在 Solana 上，质押账户可以用来将代币委托给网络上的验证者，以潜在地为质押账户的所有者赚取奖励。质押账户的创建和管理与传统的钱包地址不同，后者被称为系统账户。系统账户只能在网络上发送和接收 SOL，而质押账户支持更复杂的操作，以管理代币的委托。

Solana 上的质押账户也不同于您可能熟悉的其他权益证明区块链网络中的质押账户。本文档描述了 Solana 质押账户的高级结构和功能。

#### 账户地址

每个质押账户都有一个独特的地址，可以用来在命令行或任何网络浏览器工具中查找账户信息。然而，与持有地址密钥对( keypair )的钱包地址不同，持有者可以控制钱包，与质押账户地址关联的密钥对并不一定对账户有任何控制权。实际上，质押账户的地址甚至可能不存在密钥对或私钥。

一个质押账户的地址拥有密钥对文件的唯一情况是当
[使用命令行工具创建质押账户](https://docs.solanalabs.com/cli/examples/delegate-stake#create-a-stake-account).
首先创建一个新的密钥对文件，仅以确保质押账户的地址是新的且唯一的。

#### 理解账户权限

某些类型的账户可能会有一个或多个与给定账户关联的签署权限。账户权限用于为其控制的账户签署特定交易。这与一些其他区块链网络不同，在那些网络中，与账户地址关联的密钥对持有者控制账户的所有活动。

每个质押账户都指定有两个签署权限，分别由它们各自的地址确定，每个地址都被授权在质押账户上执行特定操作。

质押权限用于签署以下操作的交易：

- 委托质押
- 取消质押委托
- 分割质押账户, 从现有账户中分割一部分资金，创建一个新的质押账户
- 将两个质押账户合并为一个
- 设置新的质押权限

提现权限签署以下交易:

- 将未委托的质押提取到钱包地址
- 设置新的提现权限
- 设置新的质押权限

质押权限和提现权限在创建质押账户时设置，并可以随时更改为授权新的签名地址。质押权限和提现权限可以是同一个地址，也可以是两个不同的地址。

撤回权限的密钥对对账户拥有更多的控制权，因为它需要用来变现质押账户中的代币，并且如果质押权限的密钥对丢失或被泄露，它还可以用来重置质押权限。

在管理质押账户时，确保撤回权限的安全，防止丢失或被盗，是至关重要的。

#### 多重委托

每个质押账户在同一时间只能被用来委托给一个验证者。账户中的所有代币要么被委托，要么未被委托，或者正处于被委托或未被委托的过程中。如果你想将你的代币的一部分委托给一个验证者，或者委托给多个验证者，你必须创建多个质押账户。

这可以通过从含有一些代币的钱包地址创建多个质押账户来实现，或者通过创建一个单一的大型质押账户，然后使用质押权限将账户分割成多个具有你选择的代币余额的账户。

相同的质押和撤回权限可以分配给多个质押账户。

#### 合并质押账户

两个具有相同权限和锁定条件的质押账户可以合并成一个单一的质押账户。在没有额外条件的情况下，以下状态的两个质押账户之间可以进行合并：

- 两个已停用的质押
- 在其激活周期内，将不活跃的质押转换为活跃的质押

对于以下几种情况，投票公钥（voter pubkey）和投票信用（vote credits）必须匹配:

- 两个已激活的质押
- 在激活周期内，共享激活时期的两个激活中的账户

所有其他的质押状态组合将无法合并，包括所有“过渡”状态，即质押正在激活或停用，并且具有非零的有效质押。

#### 委托预热和冷却

当质押账户被委托，或者委托被停用时，该操作不会立即生效。

委托或停用操作需要经过几个[周期](../..//terminology#epoch)才能完成，在包含指令的交易提交到集群后，每个周期边界都会有部分委托变得活跃或不活跃。

这里对单个周期内可以委托或撤销的总质押量也有限制，以防止整个网络的质押发生突发性的大幅变化。由于预热和冷却过程取决于其他网络参与者的行为，它们的确切持续时间难以预测。有关预热和冷却时间的详细信息可以在[这里](https://docs.solanalabs.com/consensus/stake-delegation-and-rewards#stake-warmup-cooldown-withdrawal)找到。

在每个周期内，可以委托或停用的总权益数量是有限的，以防止整个网络的质押发生大规模的突发性变化。由于预热（warmup）和冷却（cooldown）过程依赖于其他网络参与者的行为，因此它们的确切持续时间很难预测。有关预热和冷却时间的详细信息可以在[这里](https://docs.solanalabs.com/consensus/stake-delegation-and-rewards#stake-warmup-cooldown-withdrawal)找到。

#### 锁仓

质押账户可以设置锁仓时间，以防止其持有的代币在达到特定日期或周期之前被提取。在锁仓期间，质押账户仍可以进行委托、取消委托或拆分，并且其质押权限可以正常更改。只有将资金提取到另一个钱包或更新提款权限是不被允许的。

锁仓只能在首次创建质押账户时添加，但可以稍后由 _锁仓机构_ 或 _托管人_ 修改，_锁仓机构_ 或 _托管人_ 的地址也在创建质押账户时设置。

#### 销毁质押账户

在 Solana 网络上，像其他类型的账户一样，如果一个质押账户的余额为0 SOL，它将不再被追踪。如果一个质押账户没有被委托，并且它包含的所有代币都被提取到一个钱包地址，那么在那个地址上的账户实际上就被销毁了，需要手动重新创建账户，才能再次使用该账户。

#### 查看质押账户

质押账户的详细信息可以通过在[Solana Explorer](http://explorer.solana.com/accounts)中复制并粘贴账户地址到搜索栏来查看。